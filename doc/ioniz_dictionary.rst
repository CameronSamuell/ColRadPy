.. _ioniz_dictionary:
=======================================
Ionization balance Dictionary Structure
=======================================


ionization balance data dictionary


 **data**

+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
|  key Name                       | Description                                                       | Data Type      |     Size                         |
+=================================+===================================================================+================+==================================+
| cr_data                         |  Holds data from the CR calculations                              | dictionary     | (user chosen)                    |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| user                            | Holds user chosen data parameters                                 | dictionary     | (user chosen)                    |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| ion_matrix                      | ion balance matrix made up of GCR coefficients                    | array          | (levels,levels,temp,dens)        |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| processed                       | Holds processed data from the ionization balance calc             | dictionary     | (user chosen)                    |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+




 gcrs holds the gcr data the individual charge states.
 Each charge state then has its own qcd, scd, acd and xcd.


 **user**

+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
|  key Name                       | Description                                                       | Data Type      |     Size                         |
+=================================+===================================================================+================+==================================+
| temp_grid                       | User chosen electron temperature grid for calculation (eV)        | float arr      | (user chosen)                    |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| ttemp_grid                      | User chosen neutral hydrogen temperature grid for calculation (eV)| float arr      | (user chosen)                    |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| dens_grid                       | User chosen electron density grid for calculation (cm-3)          | float arr      | (user chosen)                    |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| hdens_grid                      | User chosen neutral hydrogen density grid for calculation (cm-3)  | float arr      | (len(dens_grid))                 |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| temp_dens_pair                  | Use temperature and density pairs rather than grids               | bool           |                -                 |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| ne_tau                          | Use temperature and density pairs rather than grids               | bool           |                -                 |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| use_ionization                  | User choice to include ionization in the calculation              | bool/bool arr  | -/(num_metas)                    |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| suppliment_with_ecip            | User choice to include suppliment onization with ECIP approx data | bool/bool arr  | -/(num_metas)                    |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| use_recombination_three_body    |User choice to include three body recombination in the calculation | bool/bool arr  | -/(num_metas)                    |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| use_recombination               |User choice to include recombination from file in the calculation  | bool/bool arr  | -/(num_metas)                    |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| use_cx                          | User choice to include thermal CX from file in the calculation    | bool/bool arr  | -/(num_metas)                    |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| scale_file_ioniz                | Scale ionization in the adf04 files                               | bool/bool arr  | -/(num_metas)                    |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| keep_charge_state_data          | keep all of the data from the CR calculations not just GCRs       | bool           | -                                |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| td_t                            |User chosen time points to solve time dependent calculation        | float arr      | (user_chosen)                    |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| td_n0                           |User chosen initial level populations for TD calculation           | float arr      | (num_level)                      |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| source                          |User chosen source term for TD calculation                         | float arr      | (num_level)                      |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| fils                            | files of adf04 files for the charge states of the species         | str arr        | (num_charge_states)              |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+







 **cr_data**

+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
|  key Name                       | Description                                                       | Data Type      |     Size                         |
+=================================+===================================================================+================+==================================+
| ['gcrs']['X']                   | GCR coefficients for a given charge state X                       | dict           | (num_charge)                     |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| stage_data                      | Dictionary with all data from individual charge CR calculations   | dict           | (user chosen)                    |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+



 **['gcrs']['X']**

+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|  key Name                       | Description                                                       | Data Type      |     Size                                                                       |
+=================================+===================================================================+================+================================================================================+
|   scd                           | effective ionization rate (ion cm3 s-1)                           | float arr      | (len(metas), len(metas_plus), user_temp,user_dens)                             |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|   acd                           | effective recombination rate (recomb cm3 s-1)                     | float arr      | (len(metas), len(metas_plus), user_temp,user_dens)                             |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|   qcd                           | metastable cross coupling coefficient  (cm3 s-1)                  | float arr      | (len(metas), len(metas), user_temp, user_dens)                                 |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|   xcd                           | parent metastable cross coupling coefficient  (cm3 s-1)           | float arr      | (len(metas_plus), len(metas_plus), user_temp, user_dens)                       |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|   ccd                           | charge exchange recombination coefficient     (cm3 s-1)           | float arr      | (len(metas_plus), len(metas_plus), user_temp, user_dens)                       |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+









 **processed**
 
+---------------------------------+------------------------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|  key Name                       | Description                                                                        | Data Type      |     Size                                                                       |
+=================================+====================================================================================+================+================================================================================+
|   pops_ss                       | steady state populations for the charge states                                     | float arr      | (num_charge,  user_temp, user dens)                                            |
+---------------------------------+------------------------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|   pops_td                       | time changing state populations for the charge states                              | float arr      | (num_charge, num_times, user_temp, user dens)                                  |
+---------------------------------+------------------------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|   pops_td_source                |time changing state populations for the charge states with source term              | float arr      | (num_charge, num_times, user_temp, user dens)                                  |
+---------------------------------+------------------------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|   eigen_val                     | Eigen values for the ionization balance matrix                                     | float arr      | (num_charge, user_temp, user dens)                                             |
+---------------------------------+------------------------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|   eigen_vec                     | Eigen vectors for the ionization balance matrix                                    | float arr      | (num_charge, user_temp, user dens)                                             |
+---------------------------------+------------------------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+


